<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>数据的图表展示</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
        <link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>
            body {
                font-family: Comic Sans MS,腾祥爱情体细简;
                font-size: 18px;
                line-height: 1.6;
            }
        </style>
        
        <script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
    </head>
    <body class="vscode-light">
        <h1 id="%e6%95%b0%e6%8d%ae%e7%9a%84%e5%9b%be%e8%a1%a8%e5%b1%95%e7%a4%ba">数据的图表展示</h1>
<ul>
<li>数据预处理</li>
<li>品质数据的整理与显示</li>
<li>数值型数据的整理与显示</li>
<li>合理使用图表</li>
</ul>
<h2 id="%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e5%8f%af%e8%a7%86%e5%8c%96">数据类型可视化</h2>
<ul>
<li>定性数据
<ul>
<li>频数分布表
<ul>
<li>单变量分布表</li>
<li>双变量列联表</li>
</ul>
</li>
<li>图示方法
<ul>
<li>条形图</li>
<li>饼图</li>
<li>环形图</li>
</ul>
</li>
</ul>
</li>
<li>定量数据
<ul>
<li>频数分布表
<ul>
<li>分组表</li>
</ul>
</li>
<li>图示方法
<ul>
<li>展示分布特征
<ul>
<li>直方图</li>
<li>茎叶图</li>
<li>箱线图</li>
</ul>
</li>
<li>考察变量间的关系
<ul>
<li>散点图</li>
</ul>
</li>
<li>比较多样本相似
<ul>
<li>雷达图</li>
<li>轮廓图</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="%e6%95%b0%e6%8d%ae%e9%a2%84%e5%a4%84%e7%90%86">数据预处理</h1>
<ul>
<li>数据审核
<ul>
<li>检查数据中的异常</li>
</ul>
</li>
<li>数据筛选
<ul>
<li>找出符合条件的数据</li>
</ul>
</li>
<li>数据排序
<ul>
<li>升序 VS 降序</li>
<li>寻找数据的基本特征</li>
</ul>
</li>
<li>数据透视
<ul>
<li>按需要汇总</li>
</ul>
</li>
</ul>
<h2 id="%e6%95%b0%e6%8d%ae%e5%ae%a1%e6%a0%b8">数据审核</h2>
<ul>
<li>原始数据(raw data)</li>
<li>二手数据(second-hand data)</li>
</ul>
<h3 id="%e5%8e%9f%e5%a7%8b%e6%95%b0%e6%8d%ae">原始数据</h3>
<ol>
<li>
<p>完整性</p>
<ul>
<li>调查单位是否存漏(数据表中的'行 row')</li>
<li>特征是否齐全(数据表中的'列 column')</li>
</ul>
</li>
<li>
<p>准确性</p>
<ul>
<li>数据是否符合实际</li>
<li>数据是否存在异常</li>
</ul>
</li>
</ol>
<h3 id="%e4%ba%8c%e6%89%8b%e6%95%b0%e6%8d%aesecond-hand-data">二手数据(second-hand data)</h3>
<ol>
<li>适用性
<ul>
<li>数据来源、数据口径及相关背景资料</li>
<li>是否符合需求</li>
</ul>
</li>
<li>时效性
<ul>
<li>使用最新数据</li>
</ul>
</li>
<li>是否需要进一步加工</li>
</ol>
<h2 id="%e6%95%b0%e6%8d%ae%e7%ad%9b%e9%80%89%e4%b8%8e%e6%8e%92%e5%ba%8f">数据筛选与排序</h2>
<h3 id="%e6%95%b0%e6%8d%ae%e7%ad%9b%e9%80%89">数据筛选</h3>
<p>筛选的内容：</p>
<ul>
<li>剔除不符合要求、有明显错误的数据</li>
<li>筛选符合特定条件的数据</li>
</ul>
<h3 id="%e6%95%b0%e6%8d%ae%e6%8e%92%e5%ba%8f">数据排序</h3>
<ul>
<li>定性数据</li>
<li>数值型数据</li>
</ul>
<h4 id="%e5%ae%9a%e6%80%a7%e6%95%b0%e6%8d%ae">定性数据</h4>
<ul>
<li>字母型
<ul>
<li>a <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> z</li>
<li>z <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> a</li>
</ul>
</li>
<li>汉字型
<ul>
<li>拼音</li>
<li>笔画</li>
</ul>
</li>
</ul>
<h4 id="%e6%95%b0%e5%80%bc%e5%9e%8b">数值型</h4>
<ul>
<li>递增(ascending)</li>
<li>递减(descending)</li>
</ul>
<h2 id="%e6%95%b0%e6%8d%ae%e9%80%8f%e8%a7%86%e8%a1%a8pivot-table">数据透视表(pivot table)</h2>
<p>作用：</p>
<ul>
<li>从复杂的数据提取有用的信息</li>
<li>对数据表的重要信息按需求进行汇总</li>
<li>形成符合需求的交叉表</li>
<li>数据表首行必须有列标题</li>
</ul>
<p>pandas实现pivot table: <code>pd.pivot_table()</code></p>
<pre><code class="language-py"><div><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd 

pd.pivot_table(data=df,values=[<span class="hljs-string">'col1'</span>],columns=[<span class="hljs-string">'col2'</span>],index=[<span class="hljs-string">'col3'</span>],aggfunc,fill_value,margin)

<span class="hljs-comment"># data: 需要进行透视的 Dataframe</span>
<span class="hljs-comment"># values: data中需要汇总的列,str或list</span>
<span class="hljs-comment"># columns: 列层次字段, 根据所选的columns进行进一步分割, str或list</span>
<span class="hljs-comment"># index: 每个pivot table必须拥有一个Index</span>
<span class="hljs-comment"># aggfunc: 聚合方法</span>
<span class="hljs-comment"># fill_value: 缺失值填充</span>
<span class="hljs-comment"># margin: 是否边缘汇总, bool型，默认是False</span>
</div></code></pre>
<h1 id="%e6%95%b0%e6%8d%ae%e7%9a%84%e6%95%b4%e7%90%86%e4%b8%8e%e6%98%be%e7%a4%ba">数据的整理与显示</h1>
<ul>
<li>定性数据
<ul>
<li>分类数据</li>
<li>顺序数据</li>
</ul>
</li>
<li>数值型数据</li>
</ul>
<p>基本方法：</p>
<ul>
<li>分清数据类型</li>
<li>定性数据<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span>分类整理</li>
<li>数值型数据<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span>分组整理</li>
</ul>
<h2 id="%e5%ae%9a%e6%80%a7%e6%95%b0%e6%8d%ae-1">定性数据</h2>
<ul>
<li>分类数据</li>
<li>顺序数据</li>
</ul>
<h3 id="%e5%88%86%e7%b1%bb%e6%95%b0%e6%8d%ae%e6%95%b4%e7%90%86">分类数据整理</h3>
<ol>
<li>列出各类别</li>
<li>计算各类别频数</li>
<li>制作频数分布表</li>
<li>可视化</li>
</ol>
<p>可汇总的统计量</p>
<ul>
<li>频数</li>
<li>比例</li>
<li>百分比</li>
<li>比率</li>
</ul>
<p>pandas实现：<code>pd.crosstab()</code></p>
<h3 id="%e5%88%86%e7%b1%bb%e6%95%b0%e6%8d%ae%e5%8f%af%e8%a7%86%e5%8c%96">分类数据可视化</h3>
<ul>
<li>条形图</li>
<li>帕累托图</li>
<li>饼图</li>
</ul>
<h2 id="%e9%a1%ba%e5%ba%8f%e6%95%b0%e6%8d%ae">顺序数据</h2>
<h3 id="%e9%a1%ba%e5%ba%8f%e6%95%b0%e6%8d%ae%e6%95%b4%e7%90%86">顺序数据整理</h3>
<ul>
<li>累积频数(cumulative frequency)</li>
</ul>
<p>各类别频数逐级累加</p>
<ul>
<li>累积频率(cumulative percentages)</li>
</ul>
<p>各类别频率(%)逐级累加</p>
<h3 id="%e9%a1%ba%e5%ba%8f%e6%95%b0%e6%8d%ae%e5%8f%af%e8%a7%86%e5%8c%96">顺序数据可视化</h3>
<ul>
<li>累计频数分布图</li>
<li>环形图</li>
</ul>
<h2 id="%e6%95%b0%e5%80%bc%e5%9e%8b%e6%95%b0%e6%8d%ae">数值型数据</h2>
<ul>
<li>数据分组</li>
<li>可视化</li>
</ul>
<h3 id="%e6%95%b0%e6%8d%ae%e5%88%86%e7%bb%84">数据分组</h3>
<p>要点：</p>
<ul>
<li>将变量值的一个区间作为一组</li>
<li>适合连续变量</li>
<li>适合变量较多的情况</li>
<li>原则：不重不漏</li>
<li>等距分组 VS 不等距分组</li>
</ul>
<p>步骤：</p>
<ol>
<li>确定组数</li>
</ol>
<p>组数的确定应以能够显示数据的分布特征和规律为目的</p>
<ol start="2">
<li>确定组距(class width)</li>
</ol>
<p>组距是一个组的上限与下限之差，可根据全部数据的最大值和最小值及所分组数来确定:</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi><mtext> </mtext><mi>w</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi><mo>=</mo><mfrac><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi></mrow><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi><mtext> </mtext><mi>n</mi><mi>u</mi><mi>m</mi><mi>s</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">class \ width=\frac{max-min}{class \ nums}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.02252em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365200000000002em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mspace"> </span><span class="mord mathdefault">n</span><span class="mord mathdefault">u</span><span class="mord mathdefault">m</span><span class="mord mathdefault">s</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<ol start="3">
<li>统计各组频数并整理频数分布表</li>
</ol>
<p>重要概念</p>
<ul>
<li>下限(lower limit): 组最小值</li>
<li>上限(upper limit): 组最大值</li>
<li>组距(class width)</li>
<li>组中值(class midpoint):</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi><mtext> </mtext><mi>m</mi><mi>i</mi><mi>d</mi><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi><mo>=</mo><mfrac><mrow><mi>u</mi><mi>p</mi><mi>p</mi><mi>e</mi><mi>r</mi><mtext> </mtext><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi><mo>+</mo><mi>l</mi><mi>o</mi><mi>w</mi><mi>e</mi><mi>r</mi><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">class \ midpoint=\frac{upper \ limit+lower limit}{2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mspace"> </span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="mord mathdefault">p</span><span class="mord mathdefault">p</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>pandas实现<code>pd.cut()</code></p>
<h3 id="%e5%8f%af%e8%a7%86%e5%8c%96">可视化</h3>
<ul>
<li>已分组数据
<ul>
<li>直方图(histogram)</li>
<li>折线图(plot)</li>
</ul>
</li>
<li>未分组数据
<ul>
<li>茎叶图</li>
<li>箱线图(box plot)</li>
</ul>
</li>
<li>时间序列数据(time series)
<ul>
<li>线图(line plot)</li>
</ul>
</li>
<li>多变量数据
<ul>
<li>双变量关系——2D散点图</li>
<li>气泡图(bubble chart)</li>
<li>雷达图(radar chart)</li>
</ul>
</li>
</ul>
<h1 id="%e5%90%88%e7%90%86%e4%bd%bf%e7%94%a8%e5%9b%be%e8%a1%a8">合理使用图表</h1>
<ul>
<li>鉴别图形优劣的准则</li>
<li>统计表设计</li>
</ul>
<h2 id="%e9%89%b4%e5%88%ab%e5%9b%be%e5%bd%a2%e4%bc%98%e5%8a%a3%e5%87%86%e5%88%99">鉴别图形优劣准则</h2>
<p>基本特征：</p>
<ul>
<li>显示数据</li>
<li>让读者把注意力集中在内容上</li>
<li>避免歪曲</li>
<li>强调数据之间的比较</li>
<li>服务于一个明确目标</li>
<li>有对图表统计描述和文字说明</li>
</ul>
<p>优劣准则：</p>
<ul>
<li>精心设计、有助于东侧问题的实质</li>
<li>使复杂观点得到简明、确切、高效的阐述</li>
<li>能在最短时间内以最少的文字给受众提供最大量信息</li>
<li>表述数据真实情况</li>
</ul>
<h2 id="%e7%bb%9f%e8%ae%a1%e8%a1%a8%e8%ae%be%e8%ae%a1">统计表设计</h2>
<ul>
<li>合理安排统计表结构</li>
<li>总标题内容应满足3W要求</li>
</ul>

    </body>
    </html>